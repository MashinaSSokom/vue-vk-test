{"version":3,"file":"js/226.3a111ba4.js","mappings":"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","sources":["webpack://vue-vk-test/./src/views/HomeView.vue","webpack://vue-vk-test/./src/components/SearchUsers.vue","webpack://vue-vk-test/./src/components/UI/MyInput.vue","webpack://vue-vk-test/./src/components/UI/MyInput.vue?71df","webpack://vue-vk-test/./src/components/SearchUsers.vue?2cdf","webpack://vue-vk-test/./src/views/HomeView.vue?1da1"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <Search/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport Search from \"@/components/SearchUsers\";\n\nexport default {\n  name: 'HomeView',\n  components: {\n    Search\n  }\n}\n</script>\n","<template>\r\n  <div class=\"search\">\r\n    <template v-if=\"this.isLoggedIn\">\r\n      <div class=\"search__wrapper\">\r\n        <template v-if=\"this.getFetchedUsers\">\r\n          <div class=\"search__menu\">\r\n            <div class=\"search__container\">\r\n              <my-input v-model=\"this.searchQuery\"\r\n                        @input=\"handleInput\"\r\n                        @focus=\"() => this.searchActive=true\"\r\n                        @focusout=\"() => this.searchActive=false\"/>\r\n              <my-button class=\"search__button\" @click=\"clickSearchButtonHandler\">Найти</my-button>\r\n              <template v-if=\"showSearchedUsers\">\r\n                <p class=\"search__close-results\" @click=\"closeSearchResults\">Скрыть\r\n                  результаты...</p>\r\n              </template>\r\n              <template v-else>\r\n                <p class=\"search__close-results\" v-show=\"this.getFetchedUsers.length!==0\" @click=\"openSearchResults\">Показать\r\n                  результаты...</p>\r\n              </template>\r\n\r\n            </div>\r\n            <div class=\"search-list\" v-show=\"showSearchedUsers\">\r\n              <template v-for=\"user in this.getFetchedUsers\" :key=\"user.id\">\r\n                <div class=\"search-list__user\" @click=\"() => userClickHandler(user)\">\r\n                  <!--                  <img :src=\"user.photo\" alt=\"\">-->\r\n                  <p>id:\r\n                    <router-link :to=\"`/profile/${user.id}`\">{{ user.id }}</router-link>\r\n                  </p>\r\n                  <p>{{ `${user.first_name} ${user.last_name}` }}</p>\r\n                  <p>Общих друзей: {{ user.common_count }}</p>\r\n                </div>\r\n              </template>\r\n              <div class=\"search-list__next-users\" @click=\"clickSearchNextUsers\">\r\n                <p>Загрузить следующие 20 записей...</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </template>\r\n      </div>\r\n      <my-button class=\"compute__button\" @click=\"clickComputeButtonHandler\">Построить</my-button>\r\n      <template v-if=\"this.getFetchedCheckedUsersFriends.length !== 0\">\r\n        <div class=\"fetched-users\">\r\n          <p>Найденные друзья выбранных пользователей:</p>\r\n          <div class=\"fetched-users__container\">\r\n            <template v-for=\"user in this.getFetchedCheckedUsersFriends\" :key=\"user.id\">\r\n              <div class=\"user-card\">\r\n                <img :src=\"user.photo_200_orig\" class=\"user-card__avatar\" alt=\"Avatar\">\r\n                <p>ID:\r\n                  <router-link :to=\"`/profile/${user.id}`\">{{ user.id }}</router-link>\r\n                </p>\r\n                <p>{{ `${user.last_name} ${user.first_name}` }}</p>\r\n                <p>{{ user.counters }}</p>\r\n                <p>Пол: {{ user.sex === 2 ? 'Мужчина' : 'Женщина' }}</p>\r\n                <p>Друзей среди выбранных пользователей: {{ user.countCheckedUserMatch }}</p>\r\n              </div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </template>\r\n    <template v-else>\r\n      <p>Для начала войдите через ВК</p>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapActions, mapGetters, mapMutations} from \"vuex\";\r\nimport MyButton from \"@/components/UI/MyButton\";\r\nimport MyInput from \"@/components/UI/MyInput\";\r\n\r\nexport default {\r\n  name: \"SearchUsers\",\r\n  components: {MyInput, MyButton},\r\n  data() {\r\n    return {\r\n      foundUsers: [],\r\n      checkedUsersIds: [],\r\n      searchActive: false,\r\n      searchQuery: '',\r\n      showSearchedUsers: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['getUsersOffset', 'getAllUsers', 'getCheckedUsers', 'isLoggedIn', \"getLoggedUserId\", 'getFetchedUsers', 'getFetchedCheckedUsersFriends']),\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setCheckedUsers', 'setUsersOffset']),\r\n    ...mapActions(['fetchUserFriends', 'fetchCheckedUsersFriends', \"fetchUsers\"]),\r\n    handleInput(e) {\r\n      this.searchQuery = e.target.value\r\n    },\r\n    closeSearchResults() {\r\n      this.showSearchedUsers = false\r\n    },\r\n    openSearchResults() {\r\n      this.showSearchedUsers = true\r\n    },\r\n    findUsers(searchQuery) {\r\n      this.foundUsers = this.getAllUsers.filter((user) =>\r\n          user.name.toLowerCase().startsWith(searchQuery.toLowerCase())\r\n      )\r\n    },\r\n    clickSearchButtonHandler() {\r\n      this.setUsersOffset({offset: 0})\r\n      this.fetchUsers({q: +this.searchQuery ? `id${this.searchQuery}` : this.searchQuery})\r\n      this.showSearchedUsers = true\r\n    },\r\n    clickSearchNextUsers() {\r\n      this.setUsersOffset({offset: this.getUsersOffset + 20})\r\n      this.fetchUsers({q: +this.searchQuery ? `id${this.searchQuery}` : this.searchQuery})\r\n    },\r\n    clickComputeButtonHandler() {\r\n      if (this.getCheckedUsers.length !== 0) {\r\n        this.fetchCheckedUsersFriends({userIds: this.getCheckedUsers.map(el => el.id)})\r\n      }\r\n    },\r\n    userClickHandler(user) {\r\n      const index = this.getCheckedUsers.findIndex(el => el.id === user.id)\r\n      let checkedUsers = [...this.getCheckedUsers]\r\n      if (index === -1) {\r\n        checkedUsers.push({id: user.id, name: `${user.last_name} ${user.first_name}`})\r\n      } else {\r\n        checkedUsers.splice(index, 1)\r\n      }\r\n      this.setCheckedUsers({checkedUsers: checkedUsers})\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.search {\r\n  //display: flex;\r\n  //flex-direction: column;;\r\n  //justify-content: center;\r\n  .search__wrapper {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-bottom: 40px;\r\n  }\r\n\r\n  .search__menu {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n  }\r\n\r\n  .search__button {\r\n    background: $light-color;\r\n    color: #000;\r\n  }\r\n\r\n  .compute__button {\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .search__container {\r\n    position: relative;\r\n    display: flex;\r\n\r\n    .search__close-results {\r\n      position: absolute;\r\n      font-size: 10px;\r\n      width: 120px;\r\n      right: 70px;\r\n      top: 15px;\r\n      cursor: pointer;\r\n      text-underline: black;\r\n    }\r\n\r\n    input {\r\n      width: 435px;\r\n      position: relative;\r\n    }\r\n\r\n    button {\r\n      margin-left: 5px;\r\n      height: 30px;\r\n      width: 60px;\r\n    }\r\n  }\r\n\r\n  .search__checked-users {\r\n    min-width: 200px;\r\n    height: 250px;\r\n    border: 1px solid grey;\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .search-list {\r\n    max-height: 200px;\r\n    overflow-y: scroll;\r\n    position: absolute;\r\n    top: 30px;\r\n    z-index: 2;\r\n\r\n    .search-list__user {\r\n      display: flex;\r\n      flex-direction: column;\r\n      width: 500px;\r\n      border: 1px solid grey;\r\n      background: #fff;\r\n      padding: 5px;\r\n\r\n      &:hover {\r\n        background: greenyellow;\r\n      }\r\n    }\r\n    .search-list__next-users{\r\n      cursor: pointer;\r\n      border: 1px solid grey;\r\n      background: #fff;\r\n      padding: 5px;\r\n      &:hover{\r\n        background: greenyellow;\r\n      }\r\n    }\r\n  }\r\n\r\n  .fetched-users {\r\n\r\n    //width: 750px;\r\n\r\n\r\n    .fetched-users__container {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n\r\n      .user-card {\r\n        width: 210px;\r\n        height: 320px;\r\n        border: 1px solid grey;\r\n        border-radius: 15px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding: 5px;\r\n        margin: 2px;\r\n\r\n        .user-card__avatar {\r\n          border-radius: 15px;\r\n          width: 200px;\r\n          height: 200px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n</style>","<template>\r\n  <input class=\"my-input\">\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MyInput\"\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.my-input{\r\n  height: 30px;\r\n  font-size: 16px;\r\n}\r\n\r\n</style>","import { render } from \"./MyInput.vue?vue&type=template&id=7f8b9ff2&scoped=true\"\nimport script from \"./MyInput.vue?vue&type=script&lang=js\"\nexport * from \"./MyInput.vue?vue&type=script&lang=js\"\n\nimport \"./MyInput.vue?vue&type=style&index=0&id=7f8b9ff2&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\MashinaSSokom\\\\Projects\\\\vue-vk-test\\\\vue-vk-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7f8b9ff2\"]])\n\nexport default __exports__","import { render } from \"./SearchUsers.vue?vue&type=template&id=13cf321c&scoped=true\"\nimport script from \"./SearchUsers.vue?vue&type=script&lang=js\"\nexport * from \"./SearchUsers.vue?vue&type=script&lang=js\"\n\nimport \"./SearchUsers.vue?vue&type=style&index=0&id=13cf321c&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\MashinaSSokom\\\\Projects\\\\vue-vk-test\\\\vue-vk-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13cf321c\"]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=2cd9b0bd\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\MashinaSSokom\\\\Projects\\\\vue-vk-test\\\\vue-vk-test\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Search","_createElementVNode","_hoisted_7","isLoggedIn","_Fragment","key","_hoisted_2","getFetchedUsers","_hoisted_3","_hoisted_4","_component_my_input","searchQuery","onInput","$options","onFocus","searchActive","onFocusout","_component_my_button","onClick","$data","length","_hoisted_5","user","id","_component_router_link","to","first_name","last_name","common_count","getFetchedCheckedUsersFriends","_hoisted_9","_hoisted_10","_hoisted_11","src","photo_200_orig","alt","counters","sex","countCheckedUserMatch","name","__exports__","components","MyInput","MyButton","data","foundUsers","checkedUsersIds","showSearchedUsers","computed","mapGetters","methods","mapMutations","mapActions","handleInput","e","this","target","value","closeSearchResults","openSearchResults","findUsers","getAllUsers","filter","toLowerCase","startsWith","clickSearchButtonHandler","setUsersOffset","offset","fetchUsers","q","clickSearchNextUsers","getUsersOffset","clickComputeButtonHandler","getCheckedUsers","fetchCheckedUsersFriends","userIds","map","el","userClickHandler","index","findIndex","checkedUsers","push","splice","setCheckedUsers","Search","render"],"sourceRoot":""}